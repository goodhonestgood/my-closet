import{_ as A,u as j,r as f,d as k,e as O,o as s,c as i,a as l,F as y,f as R,n as P,w as C,g as q,h as E,i as x,v as X,t as D,j as Y,k as V,p as G,b as H,l as J,m as U,q as _,s as K}from"./index.5755e976.js";import{I as Q}from"./InfoModal.203b3850.js";const W={props:["imgURL"],setup(m){const t=j(),b=m.imgURL;let e=f(null),v=f([]),u=f(null),g=f(null);const o=k({}),a=()=>{o[p]={radioCategory:e.value,checkedSeasons:v.value,hashtags:u.value!==null?B(u.value):null,link:g.value},L()},c=()=>{e.value=null,v.value=[],u.value=null,g.value=null},r=k([]),h=n=>{if(r.length>7)return;const d={left:n.offsetX+"px",top:n.offsetY+"px"};r.push(d),M(r[r.length-1])},T=n=>{console.log("Icon \uC0AD\uC81C");var d=r.splice(n,1)[0];delete o[[d.left,d.top]],console.log(o,r)};let w=f(!1);const S=()=>{w.value=!w.value},L=()=>{c(),S()};let p=null;const M=n=>{p=[n.left,n.top],p in o&&(console.log("\uC874\uC7AC"),e.value=o[p].radioCategory,v.value=o[p].checkedSeasons,u.value=o[p].hashtags,g.value=o[p].link),S()},B=n=>n?(n.indexOf("#")>=0&&n.indexOf(",")>=0?n=n.replace(/[,\s]*/g,"").split("#").slice(1).map(d=>"#"+d):n.indexOf("#")>=0?n=n.replace(/(\s*)/g,"").split("#").slice(1).map(d=>"#"+d):n.indexOf(",")>=0?n=n.replace(/^,|\s*/g,"").split(",").map(d=>"#"+d):n=n.split(" ").slice(1).map(d=>"#"+d),n):[],N=async()=>{console.log("\uB370\uC774\uD130\uBCA0\uC774\uC2A4\uC5D0 \uC785\uB825"),t.push("/")},z=k(["\uC0C1\uC758","\uD558\uC758","\uB4DC\uB808\uC2A4","\uC544\uC6B0\uD130","\uC545\uC138\uC11C\uB9AC","\uBAA8\uC790","\uC2E0\uBC1C","\uAC00\uBC29"]),F=k(["\uBD04","\uC5EC\uB984","\uAC00\uC744","\uACA8\uC6B8"]);return{tempStore:a,radioCategory:e,checkedSeasons:v,hashtags:u,link:g,seasons:F,categories:z,boxChilds:r,mouseDown:h,moreInfo:M,deleteIcon:T,imgurl:b,modalActive:w,toggleModal:S,toggleModal2:L,submit:N}},components:{InfoModal:Q}},I=m=>(G("data-v-6891b172"),m=m(),H(),m),Z=I(()=>l("p",null," --\uC637 \uBD80\uBD84\uC744 \uD074\uB9AD\uD558\uC5EC \uC815\uBCF4\uB97C \uC785\uB825\uD569\uB2C8\uB2E4.-- ",-1)),$=I(()=>l("p",null," --\uC544\uC774\uCF58\uC744 [Ctrl + Click] \uD558\uBA74 \uC81C\uAC70\uB429\uB2C8\uB2E4.-- ",-1)),ee=["onClick"],oe={class:"form-check form-check-inline"},te=["value"],ne={class:"form-check-label"},le=I(()=>l("hr",null,null,-1)),se={class:"form-check form-check-inline"},ae=["value"],re={class:"form-check-label"},ie=I(()=>l("hr",null,null,-1)),ce={class:"mb-3"};function de(m,t,b,e,v,u){const g=O("InfoModal");return s(),i(y,null,[Z,$,l("div",{id:"box",onClick:t[0]||(t[0]=C((...o)=>e.mouseDown&&e.mouseDown(...o),["self"])),style:P({background:"url("+e.imgurl+") no-repeat center center fixed"})},[(s(!0),i(y,null,R(e.boxChilds,(o,a)=>(s(),i("i",{class:"position-absolute translate-middle far fa-solid fa-magnifying-glass-plus",key:a,style:P(o),onClick:[C(c=>e.moreInfo(o),["exact","stop"]),C(c=>e.deleteIcon(a),["ctrl","stop"])],type:"button"},null,12,ee))),128))],4),q(g,{class:"",onClose:e.tempStore,modalActive:e.modalActive},{default:E(()=>[(s(!0),i(y,null,R(e.categories,o=>(s(),i("div",oe,[x(l("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",value:o,"onUpdate:modelValue":t[1]||(t[1]=a=>e.radioCategory=a)},null,8,te),[[X,e.radioCategory]]),l("label",ne,D(o),1)]))),256)),le,(s(!0),i(y,null,R(e.seasons,o=>(s(),i("div",se,[x(l("input",{class:"form-check-input",type:"checkbox",name:"inlineRadioOptions",value:o,"onUpdate:modelValue":t[2]||(t[2]=a=>e.checkedSeasons=a)},null,8,ae),[[Y,e.checkedSeasons]]),l("label",re,D(o),1)]))),256)),ie,l("div",ce,[x(l("input",{type:"text",class:"form-control mb-2",placeholder:"\uD574\uC2DC\uD0DC\uADF8","onUpdate:modelValue":t[3]||(t[3]=o=>e.hashtags=o)},null,512),[[V,e.hashtags]]),x(l("input",{type:"text",class:"form-control",placeholder:"\uB9C1\uD06C","onUpdate:modelValue":t[4]||(t[4]=o=>e.link=o)},null,512),[[V,e.link]])]),l("button",{onClick:t[5]||(t[5]=C((...o)=>e.tempStore&&e.tempStore(...o),["stop"])),class:"btn btn-outline-secondary",type:"button",id:"button-addon2"},"\uC784\uC2DC \uC800\uC7A5")]),_:1},8,["onClose","modalActive"]),l("button",{class:"relative-element btn btn-success mb-3",onClick:t[6]||(t[6]=(...o)=>e.submit&&e.submit(...o))},"\uC800\uC7A5")],64)}var ue=A(W,[["render",de],["__scopeId","data-v-6891b172"]]);const me={components:{addtion:ue},setup(){let m=f(1);const t=f(null),b=o=>{let a=o.target.files||o.dataTransfer.files;if(!a)return;let c=new FileReader;c.onload=r=>{t.value=r.target.result},c.readAsDataURL(a[0])},e=f(null),v=o=>{const a=e.value.getContext("2d");let c=new Image;c.src=o,c.onload=()=>{let[r,h]=[c.width/4,c.height/4];a.drawImage(c,r,h,2*r,2*r,0,0,500,500),g()}},u=f(""),g=()=>{u.value=e.value.toDataURL("image/jpeg","image/octet-stream"),console.log(u.value)};return J(()=>{m.value===2&&v(t.value)}),{getImage:b,root:e,src:t,newURL:u,currentPage:m}}},ge={class:"container"},fe={class:"mb-4"},ve={key:0},pe={key:1},_e={class:"mx-auto",ref:"root",width:"500",height:"500"},be={key:2};function ke(m,t,b,e,v,u){const g=O("addtion");return s(),i("div",ge,[l("div",fe,[l("button",{onClick:t[0]||(t[0]=o=>e.currentPage=1),type:"button",class:U(["btn fs-4",{btnColor:e.currentPage==1}])},"1. \uC774\uBBF8\uC9C0 \uBD88\uB7EC\uC624\uAE30",2),e.src?(s(),i("button",{key:0,onClick:t[1]||(t[1]=o=>e.currentPage=2),type:"button",class:U(["btn fs-4",{btnColor:e.currentPage==2}])},"2. \uC815\uC0AC\uAC01\uD615 \uC790\uB974\uAE30",2)):_("",!0),e.newURL.length>0?(s(),i("button",{key:1,onClick:t[2]||(t[2]=o=>e.currentPage=3),type:"button",class:U(["btn fs-4",{btnColor:e.currentPage==3}])},"3. \uC815\uBCF4 \uC785\uB825\uD558\uAE30",2)):_("",!0)]),e.currentPage===1?(s(),i("div",ve,[l("input",{type:"file",onChange:t[3]||(t[3]=(...o)=>e.getImage&&e.getImage(...o)),onDrop:t[4]||(t[4]=(...o)=>e.getImage&&e.getImage(...o))},null,32)])):_("",!0),e.currentPage===2?(s(),i("div",pe,[l("canvas",_e,null,512)])):_("",!0),e.currentPage===3?(s(),i("div",be,[e.newURL.length>0?(s(),K(g,{key:0,imgURL:e.newURL},null,8,["imgURL"])):_("",!0)])):_("",!0)])}var xe=A(me,[["render",ke],["__scopeId","data-v-7d00587c"]]);export{xe as default};
